<html>
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
  </head>
  <body>
    <script type="module">
        import { ethers } from "https://cdnjs.cloudflare.com/ajax/libs/ethers/6.2.3/ethers.js"; 
        const mainJson = await fetch('Main.json')
        .then(response => response.json())  
        .then( async (contractMainJson)=> {
            console.log(contractMainJson); 
            const abiMain = contractMainJson;
            console.log("abiMain",abiMain)
            const MainAddress = "0x1b9e5edc1481164cea3f9fbbc66329e0c73f5377";
            if (typeof window.ethereum === "undefined") {
                alert("please install the metamask wallet!");
            }
            console.log("连接钱包")
            const provider = new ethers.BrowserProvider(window.ethereum);
            //获取钱包地址
            const accounts = await provider.send("eth_requestAccounts", []);
            const account = accounts[0]
            console.log(`钱包地址: ${account}`);
            const contractMain = new ethers.Contract(MainAddress, abiMain, provider);
            const TokenId = await contractMain.mint(account,"http://ideaeye.com","http://ideaeye");

            let i = 1;
            let j = 2;
            const TokenId = async(i,j) =>{
                return await contractMain.mint(account,"http://ideaeye.com","http://ideaeye");
                console.log('debug',TokenId);
        })
        const a = await TokenId(i,j)
        console.log("aaa")
    </script>
  </body>
</html>